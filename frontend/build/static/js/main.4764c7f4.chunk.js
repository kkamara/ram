(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{56:function(e,t,a){},57:function(e,t,a){"use strict";a.r(t);var r=a(22),c=a.n(r),n=a(19),s=a(5),i=a(1),o=a.n(i),l=a(3),d=a(23),h=a(12),u=a(13),j=a(14),b=a(16),p=a(15),f=a(17),m=a(26),O=a(25),v=a(11),x=a(8),g=a.n(x),y="/api/v1",N="Rick & Morty",C="M5Pj4m4sIMVxGzJvOEOHwWbzl5UcOKjE",S="SEARCH_CHARACTERS_PENDING",_="SEARCH_CHARACTERS_ERROR",k="SEARCH_CHARACTERS_SUCCESS",w="GET_CHARACTERS_PENDING",R="GET_CHARACTERS_ERROR",T="GET_CHARACTERS_SUCCESS",E="GET_CHARACTER_PENDING",A="GET_CHARACTER_ERROR",I="GET_CHARACTER_SUCCESS",H=function(e){var t=[];for(var a in e)e[a].length>0&&t.push("".concat(a,"=").concat(e[a]));return t.join("&")},F=function(e){return decodeURIComponent((new RegExp("[?|&]"+e+"=([^&;]+?)(&|#|;|$)").exec(window.location.search)||[null,""])[1].replace(/\+/g,"%20"))||null},U={searchCharacters:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(){var a=Object(v.a)(g.a.mark((function a(r){var c,n,s,i;return g.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return i=function(e,t){return{type:e,payload:t}},s=function(e,t){return{type:e,payload:t}},r(function(e){return{type:e}}(S)),c="/api/v1/characters/search",n=H(t),e?(c+="?page=".concat(e),n.length>0&&(c+="&".concat(n))):n.length>0&&(c+="?".concat(n)),c=encodeURI(c),a.next=10,fetch(c).then((function(e){return e.json()})).then((function(e){var t=e.errors?{errors:e.errors}:Object(l.a)({filters:e.filters},e.data);r(i(k,t))})).catch((function(e){r(s(_,e))}));case 10:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()}};var G={getCharacters:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return function(){var t=Object(v.a)(g.a.mark((function t(a){var r,c,n;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=function(e,t){return{type:e,payload:t}},c=function(e,t){return{type:e,payload:t}},a(function(e){return{type:e}}(w)),r="/api/v1/characters",e&&(r+="?page=".concat(e)),r=encodeURI(r),t.next=9,fetch(r).then((function(e){return e.json()})).then((function(e){a(n(T,e.data))})).catch((function(e){a(c(R,e))}));case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}};var L={getCharacter:function(e){return function(){var t=Object(v.a)(g.a.mark((function t(a){var r,c,n;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=function(e,t){return{type:e,payload:t}},c=function(e,t){return{type:e,payload:t}},a(function(e){return{type:e}}(E)),r=y+"/characters/".concat(e),r=encodeURI(r),t.next=8,fetch(r).then((function(e){return e.json()})).then((function(e){var t=!!e.data&&e.data;a(n(I,t))})).catch((function(e){a(c(A,e))}));case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}};var D=a(28),P=a.n(D),M=a(0),z=Object(s.g)((function(e){var t=e.data,a=t&&t.info?t.info.pages:0,r=F("page")?Number.parseInt(F("page")):1,c=P()("#paginate-left"),n=P()("#paginate-right"),s=!1,i=!1;(null===r||r<=1)&&(s=!0,c.prop("disabled",!0)),r===a&&(i=!0,n.prop("disabled",!0));var o="";"undefined"!==typeof t.filters&&"string"===typeof t.filters&&t.filters.length&&(o+="&".concat(t.filters));return Object(M.jsxs)(M.Fragment,{children:[Object(M.jsx)("button",{disabled:s,onClick:function(e){s||(window.location.href="".concat(window.location.origin).concat(window.location.pathname,"?page=").concat(r-1).concat(o))},className:"btn btn-default",id:"paginate-left",children:Object(M.jsx)("i",{className:"far fa-arrow-alt-circle-left"})}),Object(M.jsx)("div",{className:"float-right",children:Object(M.jsx)("button",{disabled:i,onClick:function(e){i||(window.location.href="".concat(window.location.origin).concat(window.location.pathname,"?page=").concat(r+1).concat(o))},className:"btn btn-default",id:"paginate-right",children:Object(M.jsx)("i",{className:"far fa-arrow-alt-circle-right"})})})]})})),J=Object(s.g)((function(e){var t=e.character,a=e.showShortData,r=t.id,c=t.image,n=t.name,s=t.origin,o=t.species,l=t.gender,d=t.episode;return function(){var e,t=[Object(M.jsxs)(M.Fragment,{children:[Object(M.jsx)("img",{className:"img-responsive",src:c,alt:""}),Object(M.jsx)("p",{children:a?Object(M.jsxs)("a",{className:"character-title",href:"/characters/".concat(r),children:["Name: ",n]}):"Name: ".concat(n)})]})];return a||t.push(Object(M.jsxs)(M.Fragment,{children:[Object(M.jsxs)("p",{children:["Species: ",o]}),Object(M.jsxs)("p",{children:["Origin: ","object"===typeof s&&null!==s&&s.Name?s.name:"Unknown"]}),Object(M.jsxs)("p",{children:["Gender: ",l]}),Object(M.jsxs)("p",{children:["Episodes: ",(e=d,e.length?e.map((function(t,a){var r=t.slice(1+t.lastIndexOf("/"));return a!==e.length-1&&(r+=", "),Object(M.jsx)(i.Fragment,{children:r},a)})):"N/A")]})]})),t.map((function(e,t){return Object(M.jsx)(i.Fragment,{children:e},t)}))}()})),K=a(36),q=a.n(K),B=function(){return Object(M.jsx)("div",{children:Object(M.jsx)("div",{className:"sweet-loading text-center",children:Object(M.jsx)(q.a,{size:150,color:"#123abc",loading:!0})})})},V=function(e){Object(j.a)(a,e);var t=Object(b.a)(a);function a(){var e;Object(h.a)(this,a);for(var r=arguments.length,c=new Array(r),n=0;n<r;n++)c[n]=arguments[n];return(e=t.call.apply(t,[this].concat(c))).pageTitle="Search | Form | ".concat(N),e.state={name:"",status:"",species:"",type:"",gender:""},e}return Object(u.a)(a,[{key:"componentDidMount",value:function(){this.handleInitialSearch()}},{key:"handleInitialSearch",value:function(){var e={name:F("name"),status:F("status"),species:F("species"),type:F("type"),gender:F("gender")};e.name?this.setNameState(e.name):delete e.name,e.status?this.setStatusState(e.status):delete e.status,e.species?this.setSpeciesState(e.species):delete e.species,e.type?this.setTypeState(e.type):delete e.type,e.gender?this.setGenderState(e.gender):delete e.gender;var t=this.getPageURI();this.searchCharacters(t,e)}},{key:"setNameState",value:function(e){this.setState({name:e})}},{key:"setStatusState",value:function(e){this.setState({status:e})}},{key:"setSpeciesState",value:function(e){this.setState({Species:e})}},{key:"setTypeState",value:function(e){this.setState({type:e})}},{key:"setGenderState",value:function(e){this.setState({gender:e})}},{key:"getPageURI",value:function(){var e=1,t=F("page");if(t)try{e=Number.parseInt(t)}catch(a){}return e}},{key:"searchCharacters",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.props.searchCharacters(e,t)}},{key:"handleFieldChange",value:function(e){var t=e.target,a=t.name,r=t.value;this.setState(Object(d.a)({},a,r))}},{key:"__renderHeaderTags",value:function(){return Object(M.jsx)(f.a,{children:Object(M.jsx)("title",{children:this.pageTitle})})}},{key:"__renderErrors",value:function(){var e=this.props.characters.data;return e.errors?Object(M.jsxs)("div",{className:"alert alert-danger alert-dismissible fade show",role:"alert",children:[e.errors.map((function(e,t){return Object(M.jsxs)(i.Fragment,{children:[e," ",Object(M.jsx)("br",{})]},t)})),Object(M.jsx)("button",{type:"button",className:"close","data-dismiss":"alert","aria-label":"Close",children:Object(M.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})]}):null}},{key:"__renderCharacters",value:function(){var e=this.props.characters.data;return e&&"object"===typeof e&&null!==e&&void 0!==e.results&&e.results.length?e.results.map((function(e,t){return Object(M.jsx)(J,{character:e,showShortData:!0},t)})):Object(M.jsx)("p",{children:"No results to display your query."})}},{key:"render",value:function(){var e=this,t=this.props.characters,a=t.data,r=t.fetched,c=t.isLoaded,n=this.state,s=n.name,i=n.status,o=n.species,d=n.type,h=n.gender,u=null;return u=r&&c?Object(M.jsxs)("div",{className:"container",children:[Object(M.jsxs)("div",{className:"col-md-4 offset-md-4",children:[this.__renderErrors(),Object(M.jsxs)("form",{className:"card",action:"",method:"GET",onSubmit:function(){return e.searchCharacters(e.getPageURI(),Object(l.a)({},e.state))},children:[Object(M.jsx)("div",{className:"card-header",children:Object(M.jsxs)("div",{className:"card-title",children:["Search | Form",Object(M.jsx)("div",{className:"float-right",children:Object(M.jsx)("a",{href:"/",className:"btn btn-default btn-sm",children:"Home"})})]})}),Object(M.jsx)("div",{className:"card-body",children:Object(M.jsxs)("div",{className:"card-text",children:[Object(M.jsx)("div",{className:"form-group",children:Object(M.jsx)("input",{onChange:this.handleFieldChange.bind(this),name:"name",type:"text",className:"form-control",placeholder:"Name",value:s})}),Object(M.jsx)("div",{className:"form-group",children:Object(M.jsxs)("select",{onChange:this.handleFieldChange.bind(this),name:"status",className:"form-control",value:i,children:[Object(M.jsx)("option",{value:"",children:"Please choose a status"}),Object(M.jsx)("option",{value:"alive",children:"Alive"}),Object(M.jsx)("option",{value:"dead",children:"Dead"}),Object(M.jsx)("option",{value:"unknown",children:"Unknown"})]})}),Object(M.jsx)("div",{className:"form-group",children:Object(M.jsx)("input",{onChange:this.handleFieldChange.bind(this),name:"species",type:"text",className:"form-control",placeholder:"Species",value:o})}),Object(M.jsx)("div",{className:"form-group",children:Object(M.jsx)("input",{onChange:this.handleFieldChange.bind(this),name:"type",type:"text",className:"form-control",placeholder:"Type",value:d})}),Object(M.jsx)("div",{className:"form-group",children:Object(M.jsxs)("select",{onChange:this.handleFieldChange.bind(this),name:"gender",className:"form-control",value:h,children:[Object(M.jsx)("option",{value:"",children:"Please choose a gender"}),Object(M.jsx)("option",{value:"female",children:"Female"}),Object(M.jsx)("option",{value:"male",children:"Male"}),Object(M.jsx)("option",{value:"genderless",children:"Genderless"}),Object(M.jsx)("option",{value:"unknown",children:"Unknown"})]})})]})}),Object(M.jsxs)("div",{className:"card-footer",children:[Object(M.jsx)("a",{href:"/",className:"btn btn-default",children:Object(M.jsx)(m.a,{icon:O.a})}),Object(M.jsx)("div",{className:"float-right",children:Object(M.jsx)("input",{type:"submit",className:"btn btn-default",id:"search",value:"Submit search"})})]})]})]}),Object(M.jsx)("br",{}),Object(M.jsx)("div",{className:"col-md-4 offset-md-4",children:Object(M.jsxs)("div",{className:"card",children:[Object(M.jsx)("div",{className:"card-header",children:Object(M.jsx)("div",{className:"card-title",children:"Search Results"})}),Object(M.jsx)("div",{className:"card-body",children:Object(M.jsx)("div",{className:"card-text",children:this.__renderCharacters()})}),Object(M.jsx)("div",{className:"card-footer",children:Object(M.jsx)(z,{data:a})})]})})]}):!r&&c?Object(M.jsx)("div",{children:"Unknown error encountered"}):Object(M.jsx)(B,{}),Object(M.jsxs)(M.Fragment,{children:[this.__renderHeaderTags(),u]})}}]),a}(i.Component),W=Object(p.b)((function(e){return{characters:e.searchCharacters}}),(function(e){return{searchCharacters:function(t,a){return e(U.searchCharacters(t,a))}}}))(V),$=function(e){Object(j.a)(a,e);var t=Object(b.a)(a);function a(){var e;Object(h.a)(this,a);for(var r=arguments.length,c=new Array(r),n=0;n<r;n++)c[n]=arguments[n];return(e=t.call.apply(t,[this].concat(c))).state={pageTitle:"Characters | ".concat(N)},e.setPageTitleState=function(t){return e.setState({pageTitle:t})},e}return Object(u.a)(a,[{key:"componentDidMount",value:function(){this.loadCharacter()}},{key:"componentDidUpdate",value:function(){var e=this.props.character,t=e.data,a=e.fetched,r=e.isLoaded,c=this.state.pageTitle;a&&r&&!c.match(t.name)&&this.setPageTitleState("".concat(t.name," | ").concat(c))}},{key:"__renderHeaderTags",value:function(){var e=this.state.pageTitle;return Object(M.jsx)(f.a,{children:Object(M.jsx)("title",{children:e})})}},{key:"loadCharacter",value:function(){var e=this.props.match.params.id;this.props.getCharacter(e)}},{key:"__renderCharacter",value:function(){var e=this.props.character.data;return Object(M.jsx)(J,{character:e})}},{key:"render",value:function(){var e=this.props.character,t=e.data,a=e.fetched,r=e.isLoaded,c=null;if(a&&r){if(!t)return Object(M.jsx)(s.a,{to:"/404"});c=Object(M.jsx)("div",{className:"container",children:Object(M.jsx)("div",{className:"col-md-4 offset-md-4",children:Object(M.jsxs)("div",{className:"card",children:[Object(M.jsx)("div",{className:"card-header",children:Object(M.jsxs)("div",{className:"card-title",children:[t.name," | Characters",Object(M.jsx)("div",{className:"float-right",children:Object(M.jsx)("a",{href:"/search",className:"btn btn-default btn-sm",children:"Form Search"})})]})}),Object(M.jsx)("div",{className:"card-body",children:Object(M.jsx)("div",{className:"card-text",children:this.__renderCharacter()})}),Object(M.jsx)("div",{className:"card-footer",children:Object(M.jsx)("a",{href:"/",className:"btn btn-default",children:Object(M.jsx)(m.a,{icon:O.a})})})]})})})}else c=!a&&r?Object(M.jsx)("div",{children:"Unknown error encountered"}):Object(M.jsx)(B,{});return Object(M.jsxs)(M.Fragment,{children:[this.__renderHeaderTags(),c]})}}]),a}(i.Component),Q=Object(p.b)((function(e){return{character:e.character}}),(function(e){return{getCharacter:function(t){return e(L.getCharacter(t))}}}))($),X=function(e){Object(j.a)(a,e);var t=Object(b.a)(a);function a(){var e;Object(h.a)(this,a);for(var r=arguments.length,c=new Array(r),n=0;n<r;n++)c[n]=arguments[n];return(e=t.call.apply(t,[this].concat(c))).pageTitle="Home | ".concat(N),e}return Object(u.a)(a,[{key:"componentDidMount",value:function(){var e=F("page")?Number.parseInt(F("page")):1;this.loadCharacters(e)}},{key:"loadCharacters",value:function(e){this.props.getCharacters(e)}},{key:"__renderHeaderTags",value:function(){return Object(M.jsx)(f.a,{children:Object(M.jsx)("title",{children:this.pageTitle})})}},{key:"__renderCharacters",value:function(){var e=this.props.characters.data;return e&&"object"===typeof e&&null!==e&&void 0!==e.results&&e.results.length?e.results.map((function(e,t){return Object(M.jsx)(J,{character:e,showShortData:!0},t)})):Object(M.jsx)("p",{children:"No results to display your query."})}},{key:"render",value:function(){var e=this.props.characters,t=e.data,a=e.fetched,r=e.isLoaded,c=null;return c=a&&r?Object(M.jsx)("div",{className:"container",children:Object(M.jsx)("div",{className:"col-md-4 offset-md-4",children:Object(M.jsxs)("div",{className:"card",children:[Object(M.jsx)("div",{className:"card-header",children:Object(M.jsxs)("div",{className:"card-title",children:["Home",Object(M.jsx)("div",{className:"float-right",children:Object(M.jsx)("a",{href:"/search",className:"btn btn-default btn-sm",children:"Form Search"})})]})}),Object(M.jsx)("div",{className:"card-body",children:Object(M.jsx)("div",{className:"card-text",children:this.__renderCharacters()})}),Object(M.jsx)("div",{className:"card-footer",children:Object(M.jsx)(z,{data:t})})]})})}):!a&&r?Object(M.jsx)("div",{children:"Unknown error encountered"}):Object(M.jsx)(B,{}),Object(M.jsxs)(M.Fragment,{children:[this.__renderHeaderTags(),c]})}}]),a}(i.Component),Y=Object(p.b)((function(e){return{characters:e.characters}}),(function(e){return{getCharacters:function(t){return e(G.getCharacters(t))}}}))(X),Z=function(e){Object(j.a)(a,e);var t=Object(b.a)(a);function a(){var e;Object(h.a)(this,a);for(var r=arguments.length,c=new Array(r),n=0;n<r;n++)c[n]=arguments[n];return(e=t.call.apply(t,[this].concat(c))).state={giphyImageUrl:null},e.getGiphyImage=Object(v.a)(g.a.mark((function e(){var t;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://api.giphy.com/v1/gifs/random?api_key=".concat(C)).then((function(e){return e.json()})).then((function(e){return e.data.image_original_url})).catch((function(e){return!1}));case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)}))),e}return Object(u.a)(a,[{key:"componentDidMount",value:function(){var e=Object(v.a)(g.a.mark((function e(){var t;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getGiphyImage();case 2:t=e.sent,this.setGiphyImage(t);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setGiphyImage",value:function(e){this.setState({giphyImageUrl:e})}},{key:"render",value:function(){var e=ee.container,t=this.state.giphyImageUrl;return null===t?Object(M.jsx)(B,{}):Object(M.jsx)("div",{className:"container",style:e,children:Object(M.jsxs)("div",{className:"text-center",children:[Object(M.jsx)("h2",{children:"Oops, page not found"}),t?Object(M.jsx)("img",{src:t,alt:"404_image"}):Object(M.jsx)("div",{})]})})}}]),a}(o.a.Component),ee={container:{marginTop:100}},te=Z,ae={footer:{marginTop:30}},re=function(){return Object(M.jsx)("footer",{className:"footer",style:ae.footer,children:Object(M.jsx)("div",{className:"container text-center",children:Object(M.jsxs)("span",{className:"text-muted",children:[N," \xa9 2020 \xa0",Object(M.jsx)("a",{target:"_blank",href:"https://github.com/kkamara",children:"Kelvin Kamara"})]})})})},ce=(a(55),a(56),function(){return Object(M.jsx)("div",{id:"app",children:Object(M.jsx)(n.a,{children:Object(M.jsxs)(i.Fragment,{children:[Object(M.jsxs)(s.d,{children:[Object(M.jsx)(s.b,{path:"/",exact:!0,component:Y}),Object(M.jsx)(s.b,{path:"/search",exact:!0,component:W}),Object(M.jsx)(s.b,{path:"/characters/:id",exact:!0,component:Q}),Object(M.jsx)(s.b,{path:"/404",exact:!0,component:te}),Object(M.jsx)(s.a,{to:"/404"})]}),Object(M.jsx)(re,{})]})})})}),ne=a(21),se={data:!1},ie=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:se,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case S:return Object(l.a)(Object(l.a)({},e),{},{fetched:!1,isLoaded:!1});case _:return Object(l.a)(Object(l.a)({},e),{},{fetched:!1,isLoaded:!0,error:t.payload});case k:return Object(l.a)(Object(l.a)({},e),{},{fetched:!0,isLoaded:!0,data:t.payload})}return e},oe={data:!1},le=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:oe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case w:return Object(l.a)(Object(l.a)({},e),{},{fetched:!1,isLoaded:!1});case R:return Object(l.a)(Object(l.a)({},e),{},{fetched:!1,isLoaded:!0,error:t.payload});case T:return Object(l.a)(Object(l.a)({},e),{},{fetched:!0,isLoaded:!0,data:t.payload})}return e},de={data:!1},he=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:de,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case E:return Object(l.a)(Object(l.a)({},e),{},{fetched:!1,isLoaded:!1});case A:return Object(l.a)(Object(l.a)({},e),{},{fetched:!1,isLoaded:!0,error:t.payload});case I:return Object(l.a)(Object(l.a)({},e),{},{fetched:!0,isLoaded:!0,data:t.payload})}return e},ue=Object(ne.b)({searchCharacters:ie,characters:le,character:he}),je=a(37),be=Object(ne.a)(je.a),pe=Object(ne.c)(ue,be);c.a.render(Object(M.jsx)(p.a,{store:pe,children:Object(M.jsx)(ce,{})}),document.getElementById("root"))}},[[57,1,2]]]);
//# sourceMappingURL=main.4764c7f4.chunk.js.map