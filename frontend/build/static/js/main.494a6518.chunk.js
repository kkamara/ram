(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{61:function(e,t,a){},62:function(e,t,a){"use strict";a.r(t);var r=a(21),c=a(5),n=a(1),s=a.n(n),i=a(24),o=a.n(i),l=(a(43),a(18)),d=a(34),h=a(14),u=a(4),j="SEARCH_CHARACTERS_PENDING",b="SEARCH_CHARACTERS_ERROR",p="SEARCH_CHARACTERS_SUCCESS",f="GET_CHARACTERS_PENDING",m="GET_CHARACTERS_ERROR",O="GET_CHARACTERS_SUCCESS",v="GET_CHARACTER_PENDING",x="GET_CHARACTER_ERROR",g="GET_CHARACTER_SUCCESS",y={data:!1},N=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:y,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case j:return Object(u.a)(Object(u.a)({},e),{},{fetched:!1,isLoaded:!1});case b:return Object(u.a)(Object(u.a)({},e),{},{fetched:!1,isLoaded:!0,error:t.payload});case p:return Object(u.a)(Object(u.a)({},e),{},{fetched:!0,isLoaded:!0,data:t.payload})}return e},C={data:!1},S=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:C,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case f:return Object(u.a)(Object(u.a)({},e),{},{fetched:!1,isLoaded:!1});case m:return Object(u.a)(Object(u.a)({},e),{},{fetched:!1,isLoaded:!0,error:t.payload});case O:return Object(u.a)(Object(u.a)({},e),{},{fetched:!0,isLoaded:!0,data:t.payload})}return e},_={data:!1},k=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case v:return Object(u.a)(Object(u.a)({},e),{},{fetched:!1,isLoaded:!1});case x:return Object(u.a)(Object(u.a)({},e),{},{fetched:!1,isLoaded:!0,error:t.payload});case g:return Object(u.a)(Object(u.a)({},e),{},{fetched:!0,isLoaded:!0,data:t.payload})}return e},w=Object(l.c)({searchCharacters:N,characters:S,character:k}),R=a(26),T=a(12),E=a(13),A=a(16),I=a(15),H=a(19),U=a(27),F=a(28),G=a(8),L=a.n(G),D=a(11),P="/api/v1",M="Rick & Morty",z="M5Pj4m4sIMVxGzJvOEOHwWbzl5UcOKjE",J=function(e){var t=[];for(var a in e)e[a].length>0&&t.push("".concat(a,"=").concat(e[a]));return t.join("&")},K=function(e){return decodeURIComponent((new RegExp("[?|&]"+e+"=([^&;]+?)(&|#|;|$)").exec(window.location.search)||[null,""])[1].replace(/\+/g,"%20"))||null},q={searchCharacters:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(){var a=Object(D.a)(L.a.mark((function a(r){var c,n,s,i;return L.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return i=function(e,t){return{type:e,payload:t}},s=function(e,t){return{type:e,payload:t}},r(function(e){return{type:e}}(j)),c="/api/v1/characters/search",n=J(t),e?(c+="?page=".concat(e),n.length>0&&(c+="&".concat(n))):n.length>0&&(c+="?".concat(n)),c=encodeURI(c),a.next=10,fetch(c).then((function(e){return e.json()})).then((function(e){var t=e.errors?{errors:e.errors}:Object(u.a)({filters:e.filters},e.data);r(i(p,t))})).catch((function(e){r(s(b,e))}));case 10:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()}};var B={getCharacters:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return function(){var t=Object(D.a)(L.a.mark((function t(a){var r,c,n;return L.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=function(e,t){return{type:e,payload:t}},c=function(e,t){return{type:e,payload:t}},a(function(e){return{type:e}}(f)),r="/api/v1/characters",e&&(r+="?page=".concat(e)),r=encodeURI(r),t.next=9,fetch(r).then((function(e){return e.json()})).then((function(e){a(n(O,e.data))})).catch((function(e){a(c(m,e))}));case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}};var V={getCharacter:function(e){return function(){var t=Object(D.a)(L.a.mark((function t(a){var r,c,n;return L.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=function(e,t){return{type:e,payload:t}},c=function(e,t){return{type:e,payload:t}},a(function(e){return{type:e}}(v)),r=P+"/characters/".concat(e),r=encodeURI(r),t.next=8,fetch(r).then((function(e){return e.json()})).then((function(e){var t=!!e.data&&e.data;a(n(g,t))})).catch((function(e){a(c(x,e))}));case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}};var W=a(31),$=a.n(W),Q=a(0),X=Object(c.g)((function(e){var t=e.data,a=t&&t.info?t.info.pages:0,r=K("page")?Number.parseInt(K("page")):1,c=$()("#paginate-left"),n=$()("#paginate-right"),s=!1,i=!1;(null===r||r<=1)&&(s=!0,c.prop("disabled",!0)),r===a&&(i=!0,n.prop("disabled",!0));var o="";t.filters&&"string"===typeof t.filters&&t.filters.length&&(o+="&".concat(t.filters));return Object(Q.jsxs)(Q.Fragment,{children:[Object(Q.jsx)("button",{disabled:s,onClick:function(e){s||(window.location.href="".concat(window.location.origin).concat(window.location.pathname,"?page=").concat(r-1).concat(o))},className:"btn btn-default",id:"paginate-left",children:Object(Q.jsx)("i",{className:"far fa-arrow-alt-circle-left"})}),Object(Q.jsx)("div",{className:"float-right",children:Object(Q.jsx)("button",{disabled:i,onClick:function(e){i||(window.location.href="".concat(window.location.origin).concat(window.location.pathname,"?page=").concat(r+1).concat(o))},className:"btn btn-default",id:"paginate-right",children:Object(Q.jsx)("i",{className:"far fa-arrow-alt-circle-right"})})})]})})),Y=Object(c.g)((function(e){var t=e.character,a=e.showShortData,r=t.id,c=t.image,s=t.name,i=t.origin,o=t.species,l=t.gender,d=t.episode;return function(){var e,t=[Object(Q.jsxs)(Q.Fragment,{children:[Object(Q.jsx)("img",{className:"img-responsive",src:c,alt:""}),Object(Q.jsx)("p",{children:a?Object(Q.jsxs)("a",{className:"character-title",href:"/characters/".concat(r),children:["Name: ",s]}):"Name: ".concat(s)})]})];return a||t.push(Object(Q.jsxs)(Q.Fragment,{children:[Object(Q.jsxs)("p",{children:["Species: ",o]}),Object(Q.jsxs)("p",{children:["Origin: ","object"===typeof i&&null!==i&&i.Name?i.name:"Unknown"]}),Object(Q.jsxs)("p",{children:["Gender: ",l]}),Object(Q.jsxs)("p",{children:["Episodes: ",(e=d,e.length?e.map((function(t,a){var r=t.slice(1+t.lastIndexOf("/"));return a!==e.length-1&&(r+=", "),Object(Q.jsx)(n.Fragment,{children:r},a)})):"N/A")]})]})),t.map((function(e,t){return Object(Q.jsx)(n.Fragment,{children:e},t)}))}()})),Z=a(38),ee=a.n(Z),te=function(){return Object(Q.jsx)("div",{children:Object(Q.jsx)("div",{className:"sweet-loading text-center",children:Object(Q.jsx)(ee.a,{sizeUnit:"px",size:150,color:"#123abc",loading:!0})})})},ae=function(e){Object(A.a)(a,e);var t=Object(I.a)(a);function a(){var e;Object(T.a)(this,a);for(var r=arguments.length,c=new Array(r),n=0;n<r;n++)c[n]=arguments[n];return(e=t.call.apply(t,[this].concat(c))).pageTitle="Search | Form | ".concat(M),e.state={name:"",status:"",species:"",type:"",gender:""},e}return Object(E.a)(a,[{key:"componentDidMount",value:function(){this.handleInitialSearch()}},{key:"handleInitialSearch",value:function(){var e={name:K("name"),status:K("status"),species:K("species"),type:K("type"),gender:K("gender")};e.name?this.setNameState(e.name):delete e.name,e.status?this.setStatusState(e.status):delete e.status,e.species?this.setSpeciesState(e.species):delete e.species,e.type?this.setTypeState(e.type):delete e.type,e.gender?this.setGenderState(e.gender):delete e.gender;var t=this.getPageURI();this.searchCharacters(t,e)}},{key:"setNameState",value:function(e){this.setState({name:e})}},{key:"setStatusState",value:function(e){this.setState({status:e})}},{key:"setSpeciesState",value:function(e){this.setState({Species:e})}},{key:"setTypeState",value:function(e){this.setState({type:e})}},{key:"setGenderState",value:function(e){this.setState({gender:e})}},{key:"getPageURI",value:function(){var e=1,t=K("page");if(t)try{e=Number.parseInt(t)}catch(a){}return e}},{key:"searchCharacters",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.props.searchCharacters(e,t)}},{key:"handleFieldChange",value:function(e){var t=e.target,a=t.name,r=t.value;this.setState(Object(R.a)({},a,r))}},{key:"__renderHeaderTags",value:function(){return Object(Q.jsx)(H.a,{children:Object(Q.jsx)("title",{children:this.pageTitle})})}},{key:"__renderErrors",value:function(){var e=this.props.characters.data;return e.errors?Object(Q.jsxs)("div",{className:"alert alert-danger alert-dismissible fade show",role:"alert",children:[e.errors.map((function(e,t){return Object(Q.jsxs)(n.Fragment,{children:[e," ",Object(Q.jsx)("br",{})]},t)})),Object(Q.jsx)("button",{type:"button",className:"close","data-dismiss":"alert","aria-label":"Close",children:Object(Q.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})]}):null}},{key:"__renderCharacters",value:function(){var e=this.props.characters.data;return e&&"object"===typeof e&&null!==e&&void 0!==e.results&&e.results.length?e.results.map((function(e,t){return Object(Q.jsx)(Y,{character:e,showShortData:!0},t)})):Object(Q.jsx)("p",{children:"No results to display your query."})}},{key:"render",value:function(){var e=this,t=this.props.characters,a=t.data,r=t.fetched,c=t.isLoaded,n=this.state,s=n.name,i=n.status,o=n.species,l=n.type,d=n.gender,h=null;return h=r&&c?Object(Q.jsxs)("div",{className:"container",children:[Object(Q.jsxs)("div",{className:"col-md-4 offset-md-4",children:[this.__renderErrors(),Object(Q.jsxs)("form",{className:"card",action:"",method:"GET",onSubmit:function(){return e.searchCharacters(e.getPageURI(),Object(u.a)({},e.state))},children:[Object(Q.jsx)("div",{className:"card-header",children:Object(Q.jsxs)("div",{className:"card-title",children:["Search | Form",Object(Q.jsx)("div",{className:"float-right",children:Object(Q.jsx)("a",{href:"/",className:"btn btn-default btn-sm",children:"Home"})})]})}),Object(Q.jsx)("div",{className:"card-body",children:Object(Q.jsxs)("div",{className:"card-text",children:[Object(Q.jsx)("div",{className:"form-group",children:Object(Q.jsx)("input",{onChange:this.handleFieldChange.bind(this),name:"name",type:"text",className:"form-control",placeholder:"Name",value:s})}),Object(Q.jsx)("div",{className:"form-group",children:Object(Q.jsxs)("select",{onChange:this.handleFieldChange.bind(this),name:"status",className:"form-control",value:i,children:[Object(Q.jsx)("option",{value:"",children:"Please choose a status"}),Object(Q.jsx)("option",{value:"alive",children:"Alive"}),Object(Q.jsx)("option",{value:"dead",children:"Dead"}),Object(Q.jsx)("option",{value:"unknown",children:"Unknown"})]})}),Object(Q.jsx)("div",{className:"form-group",children:Object(Q.jsx)("input",{onChange:this.handleFieldChange.bind(this),name:"species",type:"text",className:"form-control",placeholder:"Species",value:o})}),Object(Q.jsx)("div",{className:"form-group",children:Object(Q.jsx)("input",{onChange:this.handleFieldChange.bind(this),name:"type",type:"text",className:"form-control",placeholder:"Type",value:l})}),Object(Q.jsx)("div",{className:"form-group",children:Object(Q.jsxs)("select",{onChange:this.handleFieldChange.bind(this),name:"gender",className:"form-control",value:d,children:[Object(Q.jsx)("option",{value:"",children:"Please choose a gender"}),Object(Q.jsx)("option",{value:"female",children:"Female"}),Object(Q.jsx)("option",{value:"male",children:"Male"}),Object(Q.jsx)("option",{value:"genderless",children:"Genderless"}),Object(Q.jsx)("option",{value:"unknown",children:"Unknown"})]})})]})}),Object(Q.jsxs)("div",{className:"card-footer",children:[Object(Q.jsx)("a",{href:"/",className:"btn btn-default",children:Object(Q.jsx)(U.a,{icon:F.a})}),Object(Q.jsx)("div",{className:"float-right",children:Object(Q.jsx)("input",{type:"submit",className:"btn btn-default",id:"search",value:"Submit search"})})]})]})]}),Object(Q.jsx)("br",{}),Object(Q.jsx)("div",{className:"col-md-4 offset-md-4",children:Object(Q.jsxs)("div",{className:"card",children:[Object(Q.jsx)("div",{className:"card-header",children:Object(Q.jsx)("div",{className:"card-title",children:"Search Results"})}),Object(Q.jsx)("div",{className:"card-body",children:Object(Q.jsx)("div",{className:"card-text",children:this.__renderCharacters()})}),Object(Q.jsx)("div",{className:"card-footer",children:Object(Q.jsx)(X,{data:a})})]})})]}):!r&&c?Object(Q.jsx)("div",{children:"Unknown error encountered"}):Object(Q.jsx)(te,{}),Object(Q.jsxs)(Q.Fragment,{children:[this.__renderHeaderTags(),h]})}}]),a}(n.Component),re=Object(h.b)((function(e){return{characters:e.searchCharacters}}),(function(e){return{searchCharacters:function(t,a){return e(q.searchCharacters(t,a))}}}))(ae),ce=function(e){Object(A.a)(a,e);var t=Object(I.a)(a);function a(){var e;Object(T.a)(this,a);for(var r=arguments.length,c=new Array(r),n=0;n<r;n++)c[n]=arguments[n];return(e=t.call.apply(t,[this].concat(c))).state={pageTitle:"Characters | ".concat(M)},e.setPageTitleState=function(t){return e.setState({pageTitle:t})},e}return Object(E.a)(a,[{key:"componentDidMount",value:function(){this.loadCharacter()}},{key:"componentDidUpdate",value:function(){var e=this.props.character,t=e.data,a=e.fetched,r=e.isLoaded,c=this.state.pageTitle;a&&r&&!c.match(t.name)&&this.setPageTitleState("".concat(t.name," | ").concat(c))}},{key:"__renderHeaderTags",value:function(){var e=this.state.pageTitle;return Object(Q.jsx)(H.a,{children:Object(Q.jsx)("title",{children:e})})}},{key:"loadCharacter",value:function(){var e=this.props.match.params.id;this.props.getCharacter(e)}},{key:"__renderCharacter",value:function(){var e=this.props.character.data;return Object(Q.jsx)(Y,{character:e})}},{key:"render",value:function(){var e=this.props.character,t=e.data,a=e.fetched,r=e.isLoaded,n=null;if(a&&r){if(!t)return Object(Q.jsx)(c.a,{to:"/404"});n=Object(Q.jsx)("div",{className:"container",children:Object(Q.jsx)("div",{className:"col-md-4 offset-md-4",children:Object(Q.jsxs)("div",{className:"card",children:[Object(Q.jsx)("div",{className:"card-header",children:Object(Q.jsxs)("div",{className:"card-title",children:[t.name," | Characters",Object(Q.jsx)("div",{className:"float-right",children:Object(Q.jsx)("a",{href:"/search",className:"btn btn-default btn-sm",children:"Form Search"})})]})}),Object(Q.jsx)("div",{className:"card-body",children:Object(Q.jsx)("div",{className:"card-text",children:this.__renderCharacter()})}),Object(Q.jsx)("div",{className:"card-footer",children:Object(Q.jsx)("a",{href:"/",className:"btn btn-default",children:Object(Q.jsx)(U.a,{icon:F.a})})})]})})})}else n=!a&&r?Object(Q.jsx)("div",{children:"Unknown error encountered"}):Object(Q.jsx)(te,{});return Object(Q.jsxs)(Q.Fragment,{children:[this.__renderHeaderTags(),n]})}}]),a}(n.Component),ne=Object(h.b)((function(e){return{character:e.character}}),(function(e){return{getCharacter:function(t){return e(V.getCharacter(t))}}}))(ce),se=function(e){Object(A.a)(a,e);var t=Object(I.a)(a);function a(){var e;Object(T.a)(this,a);for(var r=arguments.length,c=new Array(r),n=0;n<r;n++)c[n]=arguments[n];return(e=t.call.apply(t,[this].concat(c))).pageTitle="Home | ".concat(M),e}return Object(E.a)(a,[{key:"componentDidMount",value:function(){var e=K("page")?Number.parseInt(K("page")):1;this.loadCharacters(e)}},{key:"loadCharacters",value:function(e){this.props.getCharacters(e)}},{key:"__renderHeaderTags",value:function(){return Object(Q.jsx)(H.a,{children:Object(Q.jsx)("title",{children:this.pageTitle})})}},{key:"__renderCharacters",value:function(){var e=this.props.characters.data;return e&&"object"===typeof e&&null!==e&&void 0!==e.results&&e.results.length?e.results.map((function(e,t){return Object(Q.jsx)(Y,{character:e,showShortData:!0},t)})):Object(Q.jsx)("p",{children:"No results to display your query."})}},{key:"render",value:function(){var e=this.props.characters,t=e.data,a=e.fetched,r=e.isLoaded,c=null;return c=a&&r?Object(Q.jsx)("div",{className:"container",children:Object(Q.jsx)("div",{className:"col-md-4 offset-md-4",children:Object(Q.jsxs)("div",{className:"card",children:[Object(Q.jsx)("div",{className:"card-header",children:Object(Q.jsxs)("div",{className:"card-title",children:["Home",Object(Q.jsx)("div",{className:"float-right",children:Object(Q.jsx)("a",{href:"/search",className:"btn btn-default btn-sm",children:"Form Search"})})]})}),Object(Q.jsx)("div",{className:"card-body",children:Object(Q.jsx)("div",{className:"card-text",children:this.__renderCharacters()})}),Object(Q.jsx)("div",{className:"card-footer",children:Object(Q.jsx)(X,{data:t})})]})})}):!a&&r?Object(Q.jsx)("div",{children:"Unknown error encountered"}):Object(Q.jsx)(te,{}),Object(Q.jsxs)(Q.Fragment,{children:[this.__renderHeaderTags(),c]})}}]),a}(n.Component),ie=Object(h.b)((function(e){return{characters:e.characters}}),(function(e){return{getCharacters:function(t){return e(B.getCharacters(t))}}}))(se),oe=function(e){Object(A.a)(a,e);var t=Object(I.a)(a);function a(){var e;Object(T.a)(this,a);for(var r=arguments.length,c=new Array(r),n=0;n<r;n++)c[n]=arguments[n];return(e=t.call.apply(t,[this].concat(c))).state={giphyImageUrl:null},e.getGiphyImage=Object(D.a)(L.a.mark((function e(){var t;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://api.giphy.com/v1/gifs/random?api_key=".concat(z)).then((function(e){return e.json()})).then((function(e){return e.data.image_original_url})).catch((function(e){return!1}));case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)}))),e}return Object(E.a)(a,[{key:"componentDidMount",value:function(){var e=Object(D.a)(L.a.mark((function e(){var t;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getGiphyImage();case 2:t=e.sent,this.setGiphyImage(t);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setGiphyImage",value:function(e){this.setState({giphyImageUrl:e})}},{key:"render",value:function(){var e=le.container,t=this.state.giphyImageUrl;return null===t?Object(Q.jsx)(te,{}):Object(Q.jsx)("div",{className:"container",style:e,children:Object(Q.jsxs)("div",{className:"text-center",children:[Object(Q.jsx)("h2",{children:"Oops, page not found"}),t?Object(Q.jsx)("img",{src:t,alt:"404_image"}):Object(Q.jsx)("div",{})]})})}}]),a}(s.a.Component),le={container:{marginTop:100}},de=oe,he={footer:{marginTop:30}},ue=function(){return Object(Q.jsx)("footer",{className:"footer",style:he.footer,children:Object(Q.jsx)("div",{className:"container text-center",children:Object(Q.jsxs)("span",{className:"text-muted",children:[M," \xa9 2020 \xa0",Object(Q.jsx)("a",{target:"_blank",href:"https://github.com/kkamara",children:"Kelvin Kamara"})]})})})},je=(a(60),a(61),Object(l.a)(d.a)),be=Object(l.d)(w,je),pe=function(){return Object(Q.jsx)("div",{id:"app",children:Object(Q.jsx)(r.a,{children:Object(Q.jsxs)(n.Fragment,{children:[Object(Q.jsxs)(c.d,{children:[Object(Q.jsx)(c.b,{path:"/",exact:!0,component:ie}),Object(Q.jsx)(c.b,{path:"/search",exact:!0,component:re}),Object(Q.jsx)(c.b,{path:"/characters/:id",exact:!0,component:ne}),Object(Q.jsx)(c.b,{path:"/404",exact:!0,component:de}),Object(Q.jsx)(c.a,{to:"/404"})]}),Object(Q.jsx)(ue,{})]})})})};o.a.render(Object(Q.jsx)(h.a,{store:be,children:Object(Q.jsx)(pe,{})}),document.getElementById("root"))}},[[62,1,2]]]);
//# sourceMappingURL=main.494a6518.chunk.js.map